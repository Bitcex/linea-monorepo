plugins {
    id 'net.consensys.zkevm.kotlin-library-conventions'
    id 'java-test-fixtures'
}

dependencies {
  api project(':jvm-libs:blob-compressor')
  api project(':jvm-libs:core:domain-models')
  api project(':jvm-libs:core:metrics')
  api project(':jvm-libs:traces')
  api project(':jvm-libs:errors')
  api project(':jvm-libs:kotlin-extensions')
  api project(':jvm-libs:future-extensions')
  api "tech.pegasys.teku.internal:unsigned:${versions.teku}"
  api "org.jetbrains.kotlinx:kotlinx-datetime:${versions.kotlinxDatetime}"
  implementation "tech.pegasys.teku.internal:executionclient:${versions.teku}"
  implementation "tech.pegasys.teku.internal:spec:${versions.teku}"
  implementation "io.vertx:vertx-core"

  testFixturesApi "org.jetbrains.kotlinx:kotlinx-datetime:${versions.kotlinxDatetime}"
  testFixturesImplementation("org.web3j:core:${versions.web3j}") {
    exclude group: 'org.slf4j', module: 'slf4j-nop'
  }
  testImplementation project(":jvm-libs:testing-teku-helper")
  testImplementation project(':jvm-libs:metrics:micrometer')
  testImplementation(testFixtures(project(':jvm-libs:traces')))
  testImplementation(testFixtures(project(':jvm-libs:kotlin-extensions')))
  testImplementation("io.vertx:vertx-junit5")
}

test {
  useJUnitPlatform()
}
